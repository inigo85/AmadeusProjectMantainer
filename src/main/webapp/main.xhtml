<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>

</h:head>
<h:body>
	<p:layout fullPage="true" id="lay">
		<p:layoutUnit position="north" size="13%">
			<h:form>
				<p:toolbar size="25%">
					<p:toolbarGroup align="right" style="margin-right:10px">
						<p:commandButton value=" Logout" icon="ui-icon-power"
							action="#{loginBean.logout()}" />
					</p:toolbarGroup>
				</p:toolbar>
			</h:form>
		</p:layoutUnit>
		<p:layoutUnit position="center">
			<p:tabView id="tabView">

				<p:tab id="tab1" title="Projects">
					<h:form id="form">
						<p:growl id="messages" showDetail="true" />

						<p:dataTable id="prj" var="project"
							value="#{projectBean.projectList}" editable="true"
							paginator="true" rowKey="#{project.code}"
							paginatorTemplate="{PreviousPageLink} {CurrentPageReport} {NextPageLink} {RowsPerPageDropdown}"
							rows="20" type="none" paginatorPosition="bottom"
							rowsPerPageTemplate="20,25,30"
							selection="#{projectBean.selectedProject}"
							filteredValue="#{projectBean.filteredList}"
							selectionMode="single">

							<f:facet name="header">  
            					Click "View" button after selecting a row to see details  
       						 </f:facet>
							<p:ajax event="rowEdit" listener="#{projectBean.onEdit}"
								update=":tabView:form:messages" />
							<p:ajax event="rowEditCancel" listener="#{projectBean.onCancel}"
								update=":tabView:form:messages" />

							<p:column headerText="Code" sortBy="#{project.code}"
								style="width:200px" filterBy="code" filterMatchMode="contains">
								<h:outputText value="#{project.code}" />
							</p:column>

							<p:column headerText="Comments" filterBy="comments"
								filterMatchMode="contains">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{project.comments}" />
									</f:facet>
									<f:facet name="input">
										<h:inputText value="#{project.comments}" style="width:900px" />
									</f:facet>
								</p:cellEditor>
							</p:column>

							<p:column headerText="Edit" style="width:50px">
								<p:rowEditor id="editRow" />
								<p:tooltip for="editRow" value="Edit project comments"
									showEffect="fade" hideEffect="fade" />
							</p:column>

							<f:facet name="footer">
								<p:commandButton id="viewButton" value="View"
									icon="ui-icon-search" update=":tabView:form:display"
									oncomplete="carDialog.show()" />
							</f:facet>

						</p:dataTable>
						<p:dialog header="Car Detail" widgetVar="carDialog"
							resizable="false" width="200" showEffect="explode"
							hideEffect="explode">

							<h:panelGrid id="display" columns="1" cellpadding="4">
								<h:outputText value="Model:" />
								<h:outputText value="Year:" />
								<h:outputText value="Manufacturer:" />
								<h:outputText value="#{projectBean.selectedProject.code}"
									id="code" />
							</h:panelGrid>
						</p:dialog>
					</h:form>
				</p:tab>
				<!--  <p:tab id="tab2" title="Another Tabs?">
					<h:form id="antoherForm">
					</h:form>
				</p:tab>-->
			</p:tabView>
		</p:layoutUnit>

	</p:layout>
	<style type="text/css">
.ui-layout-unit {
	padding-top: 0;
	padding-bottom: -5;
	padding-right: 0;
	padding-left: 0;
	border: none;
}

.ui-dataList .ui-paginator {
	font-size: 80%;
}

.ui-confirm-dialog,.ui-dialog {
	
}
</style>
</h:body>
</html>